type Test component { };

func not_evaluated () bool {
  println `NOT EVALUATED`;
  return true;
}

func (this $Test) Main () {
  println `false: `, false;
  println `true: `, true;

  println `const false!: `, false!;
  println `const true!: `, true!;

  println `const false || false: `, false || false;
  println `const false || true: `, false || true;
  println `const true || false: `, true || false;
  println `const true || true: `, true || true;

  println `const false && false: `, false && false;
  println `const false && true: `, false && true;
  println `const true && false: `, true && false;
  println `const true && true: `, true && true;

  var f, t bool;
  f = false;
  t = true;

  println `var false!: `, f!;
  println `var true!: `, t!;

  println `var false || false: `, f || f;
  println `var false || true: `, f || t;
  println `var true || false: `, t || f;
  println `var true || true: `, t || t;

  println `var false && false: `, f && f;
  println `var false && true: `, f && t;
  println `var true && false: `, t && f;
  println `var true && true: `, t && t;

  println `short circuit &&`;
  t && f && not_evaluated ();

  println `short circuit ||`;
  f || t || not_evaluated ();
}

instance t Test Main;
