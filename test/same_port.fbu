type Actuator component {
  flag bool;
  bang1 push ();
};

action (this +const * Actuator) (!this.flag) {
  trigger bang1 (), bang1 () {
    this.flag = true;
  }
}

type Detector component {
  flag bool;
};

reaction (this +const * Detector) bang () {
  println `Bang Immutable`;
  trigger {
    println `Bang Mutable`;
    this.flag = true;
  }
}

type System component {
  actuator Actuator;
  detector1 Detector;
};

bind (this *System) {
  this.actuator.bang1 -> this.detector1.bang;
}

init (this *System) Init () { }

instance system System Init;
